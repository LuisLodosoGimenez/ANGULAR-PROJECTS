<main class="bg-slate-900 h-dvh flex-col flex">
  <header
    class="bg-slate-950 shadow px-6 rounded-b-lg flex h-16 items-center justify-center"
  >
    <h1 class="text-slate-200 italic font-bold text-3xl">Listado películas</h1>
  </header>

  <body
    class="transition-all duration-200 p-4 flex-1 flex flex-col"
    style="
      background-image: url('https://image.tmdb.org/t/p/w1280{{ bgImageUrl }}');
    "
  >
    <input
      type="text"
      [formControl]="textSearch"
      (keyup)="getMovies()"
      placeholder="Buscar películas por nombre"
      class="bg-slate-200 w-7/12 h-10 rounded-xl p-4 focus:ring-1 focus:ring-indigo-200 outline-slate-500 mx-auto"
    />

    @if (searchState || infoState) {
      <div class="flex pt-10">
        <div
          id="LISTA PELIS"
          class="transition-all duration-500 bg-opacity-70 ml-{{
            leftMarginOfList
          }}   p-5 w-{{
            width
          }} text-slate-200 border-white border rounded-lg bg-slate-900"
        >
          <div class="table-header-group text-4xl font-semibold h-12">
            Películas coincidentes con "{{ textSearch.value }}" :
          </div>

          <table
            class="space-y-3 mt-4 min-w-full text-left divide-y divide-slate-800 text-base"
          >
            @for (item of returnMovies(); track $index) {
              <tr class="hover:bg-slate-800">
                <button
                  (mouseover)="mouseOverMovieTitle(item.backdrop_path!)"
                  (click)="clickMovieTitle(item)"
                  class="m-0.5 ml-1.5 w-full text-left"
                >
                  {{ item.title }}
                </button>
              </tr>
            }
          </table>
        </div>
        <div class="flex-1 flex p-8 flex-col justify-center">
          @if (movie) {
            <div
              id="LISTA PELIS"
              class="flex size-full text-slate-200 border-white border rounded-lg bg-slate-900"
            >
              <img
                src="https://image.tmdb.org/t/p/w300{{ movie.poster_path }}"
                alt=""
              />
              {{ movie.title }}
            </div>
          }
        </div>
      </div>
    } @else {
      <p class="text-slate-200 mx-auto mt-3">
        ¿Escribe el nómbre de la película que deseas encontrar!
      </p>
    }
  </body>
</main>
